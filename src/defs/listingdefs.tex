\usepackage{listings}
\usepackage[dvipsnames]{xcolor}

\colorlet{listingbg}{Goldenrod!10}

\lstdefinestyle{common}{
    language=Python,
    basicstyle=\ttfamily,
    keywordstyle=\color{blue},
    commentstyle=\color{OliveGreen},
    stringstyle=\color{BrickRed},
    showstringspaces=true,
}

\lstdefinestyle{colored}{
    style=common,
    backgroundcolor=\color{listingbg},
}

\lstdefinestyle{numbers}{
    style=common,
    numbers=left,
    stepnumber=1,
    numberstyle=\tiny,
    numbersep=10pt
}

\lstdefinestyle{nonumbers}{
    style=common,
    numbers=none
}

\NewDocumentCommand{\code}{ m }{
    \hspace{-.5em}
    \lstinline[style=nonumbers]|#1|
    \hspace{-.5em}
}
